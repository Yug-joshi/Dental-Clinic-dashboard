<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oral Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* A slightly off-white background */
        }
        /* Custom scrollbar for a cleaner look */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #a3aab9;
        }
        /* Sidebar transition */
        .sidebar {
            transition: transform 0.3s ease-in-out;
        }
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            .sidebar.open {
                transform: translateX(0);
            }
        }
        .sidebar .nav-link.active {
            background-color: #3b82f6;
            color: white;
            font-weight: 600;
        }
        .sidebar .nav-link:not(.active) {
            color: #4b5563;
        }
        .sidebar .nav-link:not(.active):hover {
            background-color: #f3f4f6;
        }
        .calendar-day:hover {
            background-color: #f9fafb;
        }
    </style>
</head>
<body class="flex h-screen overflow-hidden">
    <!-- Sidebar -->
    <aside class="sidebar fixed inset-y-0 left-0 z-30 w-64 bg-white shadow-lg lg:static lg:inset-auto lg:translate-x-0 custom-scrollbar overflow-y-auto">
        <div class="flex items-center justify-between p-4 border-b">
            <h1 class="text-2xl font-bold text-blue-600">Oral Admin</h1>
            <button id="close-sidebar" class="lg:hidden">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        <nav class="mt-4 px-2">
            <ul>
                <li class="mb-1">
                    <a href="#" class="nav-link flex items-center p-3 rounded-lg active" data-target="dashboard">
                        <i class="fas fa-tachometer-alt w-6 text-center"></i><span class="ml-3">Dashboard</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="#" class="nav-link flex items-center p-3 rounded-lg" data-target="schedule">
                        <i class="fas fa-calendar-alt w-6 text-center"></i><span class="ml-3">Schedule</span>
                    </a>
                </li>
                <li class="mb-1">
                    <a href="#" class="nav-link flex items-center p-3 rounded-lg" data-target="doctors">
                        <i class="fas fa-user-md w-6 text-center"></i><span class="ml-3">Doctors</span>
                    </a>
                </li>
                 <li class="mt-4 mb-2 px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider">Apps & Pages</li>
                 <!-- Collapsible Menu Example -->
                <li>
                    <button type="button" class="flex items-center w-full p-3 text-base text-gray-600 transition duration-75 rounded-lg group hover:bg-gray-100" aria-controls="dropdown-support" data-collapse-toggle="dropdown-support">
                          <i class="fa-solid fa-life-ring w-6 text-center"></i>
                          <span class="flex-1 ms-3 text-left rtl:text-right whitespace-nowrap">Support</span>
                          <i class="fa-solid fa-chevron-down"></i>
                    </button>
                    <!-- <ul id="dropdown-support" class="hidden py-2 space-y-2">...</ul> -->
                 </li>
                 <li>
                    <a href="#" class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-th-large w-6 text-center"></i><span class="ml-3">Apps</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-box w-6 text-center"></i><span class="ml-3">Widgets</span>
                    </a>
                </li>
                <li class="mt-4 mb-2 px-3 text-xs font-semibold text-gray-400 uppercase tracking-wider">User Interface</li>
                <li>
                    <a href="#" class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-star w-6 text-center"></i><span class="ml-3">Features</span>
                    </a>
                </li>
                 <li>
                    <a href="#" class="flex items-center p-3 text-gray-600 hover:bg-gray-100 rounded-lg">
                        <i class="fas fa-icons w-6 text-center"></i><span class="ml-3">Icons</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="sticky bottom-0 bg-white w-full p-4 border-t">
            <p class="text-xs text-gray-500">Oral Admin Dashboard</p>
            <p class="text-xs text-gray-500">&copy; 2024 All Rights Reserved</p>
        </div>
    </aside>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Header -->
        <header class="flex items-center justify-between p-4 bg-white border-b">
            <div class="flex items-center">
                <button id="open-sidebar" class="text-gray-600 focus:outline-none lg:hidden">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                <div class="relative ml-4">
                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    <input type="text" placeholder="Search" class="pl-10 pr-4 py-2 w-40 sm:w-full border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
            </div>
            <div class="flex items-center space-x-2 sm:space-x-4">
                 <button class="text-gray-600 hover:text-blue-500"><i class="fas fa-moon text-xl"></i></button>
                 <button class="text-gray-600 hover:text-blue-500"><i class="fas fa-bell text-xl"></i></button>
                 <button class="text-gray-600 hover:text-blue-500"><i class="fas fa-comment-dots text-xl"></i></button>
                 <button class="text-gray-600 hover:text-blue-500"><i class="fas fa-user-friends text-xl"></i></button>
                 <img src="https://placehold.co/40x40/E2E8F0/4A5568?text=U" alt="User" class="w-10 h-10 rounded-full">
            </div>
        </header>

        <!-- ========= CONTENT AREA WRAPPER ========= -->
        <div class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 p-4 sm:p-6 custom-scrollbar">
            
            <!-- Dashboard Content -->
            <main id="dashboard" class="page-content">
                <h2 class="text-xl sm:text-2xl font-semibold text-gray-800">Welcome Back, Dr. Ananya!</h2>
            
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mt-6">
                    <!-- Stat Cards -->
                    <div class="bg-white p-6 rounded-xl shadow-sm flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Total Patients</p>
                            <p class="text-3xl font-bold text-gray-800">180</p>
                            <p class="text-sm text-green-500 flex items-center mt-1"><i class="fas fa-arrow-up mr-1"></i> 10%</p>
                        </div>
                        <button class="text-blue-500 hover:text-blue-700 text-sm font-semibold">View report</button>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Consultation</p>
                            <p class="text-3xl font-bold text-gray-800">80</p>
                            <p class="text-sm text-green-500 flex items-center mt-1"><i class="fas fa-arrow-up mr-1"></i> 15%</p>
                        </div>
                        <button class="text-blue-500 hover:text-blue-700 text-sm font-semibold">View report</button>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Procedure</p>
                            <p class="text-3xl font-bold text-gray-800">50</p>
                            <p class="text-sm text-red-500 flex items-center mt-1"><i class="fas fa-arrow-down mr-1"></i> 8%</p>
                        </div>
                        <button class="text-blue-500 hover:text-blue-700 text-sm font-semibold">View report</button>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm flex items-center justify-between">
                        <div>
                            <p class="text-sm font-medium text-gray-500">Payment</p>
                            <p class="text-3xl font-bold text-gray-800">â‚¹1,25,000</p>
                            <p class="text-sm text-green-500 flex items-center mt-1"><i class="fas fa-arrow-up mr-1"></i> 10%</p>
                        </div>
                        <button class="text-blue-500 hover:text-blue-700 text-sm font-semibold">View report</button>
                    </div>
                </div>

                <!-- Main Chart & Patient Details -->
                <div class="grid grid-cols-1 xl:grid-cols-3 gap-6 mt-6">
                    <!-- Appointment Chart -->
                    <div class="xl:col-span-2 bg-white p-6 rounded-xl shadow-sm">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-semibold text-gray-800">Appointment</h3>
                            <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg">
                                <button class="px-3 py-1 text-sm rounded-md hover:bg-gray-200">Weekly</button>
                                <button class="px-3 py-1 text-sm rounded-md bg-white shadow font-semibold text-blue-600">Monthly</button>
                                <button class="px-3 py-1 text-sm rounded-md hover:bg-gray-200">Yearly</button>
                            </div>
                        </div>
                        <div class="h-80 relative">
                            <canvas id="appointmentChart"></canvas>
                        </div>
                    </div>

                    <div class="space-y-6">
                        <!-- Top Treatments -->
                        <div class="bg-white p-6 rounded-xl shadow-sm">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Top Treatments</h3>
                            <div class="flex items-center justify-around">
                                <div class="w-32 h-32">
                                    <canvas id="treatmentsChart"></canvas>
                                </div>
                                <div class="text-sm space-y-2">
                                    <p class="flex items-center"><span class="w-3 h-3 rounded-full bg-blue-500 mr-2"></span> Root Canal</p>
                                    <p class="flex items-center"><span class="w-3 h-3 rounded-full bg-green-500 mr-2"></span> Wisdom Tooth</p>
                                    <p class="flex items-center"><span class="w-3 h-3 rounded-full bg-yellow-500 mr-2"></span> Bleaching</p>
                                    <p class="flex items-center"><span class="w-3 h-3 rounded-full bg-red-500 mr-2"></span> Others</p>
                                </div>
                            </div>
                        </div>

                        <!-- Next Patient Details -->
                        <div class="bg-white p-6 rounded-xl shadow-sm">
                            <h3 class="text-lg font-semibold text-gray-800 mb-4">Next Patient Details</h3>
                            <div class="flex items-center space-x-4 mb-4">
                                <img src="https://placehold.co/48x48/E2E8F0/4A5568?text=S" alt="Sophia" class="w-12 h-12 rounded-full">
                                <div>
                                    <p class="font-semibold text-gray-800">Saanvi Sharma</p>
                                    <p class="text-sm text-gray-500">Root Canal Treatment</p>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4 text-sm">
                                <div><p class="text-gray-500">Patient Id</p><p class="font-medium text-gray-800">124569</p></div>
                                <div><p class="text-gray-500">Last Visit</p><p class="font-medium text-gray-800">05.12.2024</p></div>
                                <div><p class="text-gray-500">Gender</p><p class="font-medium text-gray-800">Female</p></div>
                                <div><p class="text-gray-500">Age</p><p class="font-medium text-gray-800">24</p></div>
                                <div><p class="text-gray-500">Height</p><p class="font-medium text-gray-800">155cm</p></div>
                                <div><p class="text-gray-500">Weight</p><p class="font-medium text-gray-800">60</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Schedule Content -->
            <main id="schedule" class="page-content hidden">
                <h2 class="text-xl sm:text-2xl font-semibold text-gray-800 mb-6">Schedule</h2>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-sm">
                        <div class="flex flex-col sm:flex-row justify-between items-center mb-4">
                            <div class="flex items-center space-x-2 mb-4 sm:mb-0">
                                <button id="prevMonthBtn" class="px-3 py-1.5 border rounded-lg hover:bg-gray-100">Prev</button>
                                <button id="nextMonthBtn" class="px-3 py-1.5 border rounded-lg hover:bg-gray-100">Next</button>
                                <button id="todayBtn" class="px-3 py-1.5 border rounded-lg hover:bg-gray-100 font-semibold">Today</button>
                            </div>
                            <h3 id="calendarHeader" class="text-lg font-semibold text-gray-800"></h3>
                            <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg mt-4 sm:mt-0">
                                <button class="px-3 py-1 text-sm rounded-md hover:bg-gray-200">Month</button>
                                <button class="px-3 py-1 text-sm rounded-md hover:bg-gray-200">Week</button>
                                <button class="px-3 py-1 text-sm rounded-md bg-white shadow font-semibold text-blue-600">Day</button>
                            </div>
                        </div>
                        <div id="calendarGrid" class="grid grid-cols-7 gap-px border-l border-t border-gray-200 bg-gray-200">
                            <!-- Day Headers -->
                            <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Sun</div>
                            <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Mon</div>
                            <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Tue</div>
                            <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Wed</div>
                            <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Thu</div>
                            <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Fri</div>
                            <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Sat</div>
                            <!-- Calendar dates will be generated by JS -->
                        </div>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm self-start">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Draggable Events</h3>
                        <div class="space-y-3">
                            <div class="p-3 bg-blue-500 text-white rounded-lg cursor-move">LUNCH</div>
                            <div class="p-3 bg-yellow-500 text-white rounded-lg cursor-move">GO HOME</div>
                            <div class="p-3 bg-purple-600 text-white rounded-lg cursor-move">DO HOMEWORK</div>
                            <div class="p-3 bg-green-500 text-white rounded-lg cursor-move">WORK ON UI DESIGN</div>
                            <div class="p-3 bg-pink-500 text-white rounded-lg cursor-move">SLEEP TIGHT</div>
                        </div>
                        <div class="mt-6">
                            <label class="flex items-center">
                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                <span class="ml-2 text-sm text-gray-600">Remove after drop</span>
                            </label>
                        </div>
                        <div class="mt-4 flex flex-col space-y-2">
                             <button id="addNewEventBtn" class="w-full py-2 bg-green-100 text-green-600 font-semibold rounded-lg hover:bg-green-200">Add New Event</button>
                             <button id="createNewEventBtn" class="w-full py-2 bg-red-100 text-red-600 font-semibold rounded-lg hover:bg-red-200">Create New Event</button>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Doctors Content -->
            <main id="doctors" class="page-content hidden">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-xl sm:text-2xl font-semibold text-gray-800">Our Doctors</h2>
                    <button class="px-4 py-2 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 flex items-center">
                        <i class="fas fa-plus mr-2"></i> Add Doctor
                    </button>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                    <!-- Doctor Card Example -->
                    <div class="bg-white rounded-xl shadow-sm text-center p-6">
                        <img src="https://placehold.co/100x100/E2E8F0/4A5568?text=Dr" alt="Doctor" class="w-24 h-24 rounded-full mx-auto mb-4">
                        <h4 class="text-lg font-semibold text-gray-800">Dr. Rahul Gupta</h4>
                        <p class="text-gray-500 text-sm">Orthodontist</p>
                        <div class="mt-4 flex justify-center space-x-3">
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                        <button class="w-full mt-6 py-2 bg-blue-50 text-blue-600 font-semibold rounded-lg hover:bg-blue-100">View Profile</button>
                    </div>
                     <div class="bg-white rounded-xl shadow-sm text-center p-6">
                        <img src="https://placehold.co/100x100/E2E8F0/4A5568?text=Dr" alt="Doctor" class="w-24 h-24 rounded-full mx-auto mb-4">
                        <h4 class="text-lg font-semibold text-gray-800">Dr. Priya Sharma</h4>
                        <p class="text-gray-500 text-sm">Dentist</p>
                        <div class="mt-4 flex justify-center space-x-3">
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                        <button class="w-full mt-6 py-2 bg-blue-50 text-blue-600 font-semibold rounded-lg hover:bg-blue-100">View Profile</button>
                    </div>
                     <div class="bg-white rounded-xl shadow-sm text-center p-6">
                        <img src="https://placehold.co/100x100/E2E8F0/4A5568?text=Dr" alt="Doctor" class="w-24 h-24 rounded-full mx-auto mb-4">
                        <h4 class="text-lg font-semibold text-gray-800">Dr. Vikram Singh</h4>
                        <p class="text-gray-500 text-sm">Prosthodontist</p>
                        <div class="mt-4 flex justify-center space-x-3">
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                        <button class="w-full mt-6 py-2 bg-blue-50 text-blue-600 font-semibold rounded-lg hover:bg-blue-100">View Profile</button>
                    </div>
                     <div class="bg-white rounded-xl shadow-sm text-center p-6">
                        <img src="https://placehold.co/100x100/E2E8F0/4A5568?text=Dr" alt="Doctor" class="w-24 h-24 rounded-full mx-auto mb-4">
                        <h4 class="text-lg font-semibold text-gray-800">Dr. Sneha Reddy</h4>
                        <p class="text-gray-500 text-sm">Pediatric Dentist</p>
                        <div class="mt-4 flex justify-center space-x-3">
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-gray-400 hover:text-blue-500"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                        <button class="w-full mt-6 py-2 bg-blue-50 text-blue-600 font-semibold rounded-lg hover:bg-blue-100">View Profile</button>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Edit Event Modal -->
    <div id="editEventModal" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">Edit Event</h3>
            <div>
                <label for="editEventTitleInput" class="block text-sm font-medium text-gray-700">Event Title</label>
                <input type="text" id="editEventTitleInput" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                <input type="hidden" id="editEventId">
            </div>
            <div class="mt-6 flex justify-end space-x-3">
                <button class="modal-close-btn px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300">Cancel</button>
                <button id="deleteEventBtn" type="button" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">Delete Event</button>
                <button id="saveEventBtn" type="button" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">Save Changes</button>
            </div>
        </div>
    </div>
    
    <!-- Add Event Modal -->
    <div id="addEventModal" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden flex items-center justify-center">
        <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-md">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">Add Event</h3>
            <div>
                <label for="addEventTitleInput" class="block text-sm font-medium text-gray-700">Event Title</label>
                <input type="text" id="addEventTitleInput" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>
             <div class="mt-4">
                <label for="addEventDateInput" class="block text-sm font-medium text-gray-700">Date</label>
                <input type="date" id="addEventDateInput" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            </div>
            <div class="mt-6 flex justify-end space-x-3">
                <button class="modal-close-btn px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300">Cancel</button>
                <button id="addEventBtn" type="button" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">Add Event</button>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Sidebar toggle for mobile
            const openSidebarBtn = document.getElementById('open-sidebar');
            const closeSidebarBtn = document.getElementById('close-sidebar');
            const sidebar = document.querySelector('.sidebar');

            openSidebarBtn.addEventListener('click', () => sidebar.classList.add('open'));
            closeSidebarBtn.addEventListener('click', () => sidebar.classList.remove('open'));

            // Page Content Switching
            const navLinks = document.querySelectorAll('.nav-link');
            const pageContents = document.querySelectorAll('.page-content');

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('data-target');

                    navLinks.forEach(navLink => navLink.classList.remove('active'));
                    link.classList.add('active');

                    pageContents.forEach(content => {
                        content.id === targetId ? content.classList.remove('hidden') : content.classList.add('hidden');
                    });
                    if (sidebar.classList.contains('open')) {
                        sidebar.classList.remove('open');
                    }
                });
            });

            // =================================================================
            // Calendar Logic
            // =================================================================
            let currentDate = new Date();
            let events = [ // Sample events
                { id: 1, date: '2025-09-25', title: 'Team Meeting' },
                { id: 2, date: '2025-09-10', title: 'Dr. Sharma Appointment' },
                { id: 3, date: '2025-10-05', title: 'Conference Call' },
            ];

            const calendarGrid = document.getElementById('calendarGrid');
            const calendarHeader = document.getElementById('calendarHeader');
            const prevMonthBtn = document.getElementById('prevMonthBtn');
            const nextMonthBtn = document.getElementById('nextMonthBtn');
            const todayBtn = document.getElementById('todayBtn');

            const editEventModal = document.getElementById('editEventModal');
            const addEventModal = document.getElementById('addEventModal');

            function renderCalendar() {
                const year = currentDate.getFullYear();
                const month = currentDate.getMonth();
                
                calendarHeader.textContent = `${currentDate.toLocaleString('default', { month: 'long' })} ${year}`;

                const firstDayOfMonth = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();

                // Clear previous grid but keep headers
                calendarGrid.innerHTML = `
                    <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Sun</div>
                    <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Mon</div>
                    <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Tue</div>
                    <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Wed</div>
                    <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Thu</div>
                    <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Fri</div>
                    <div class="text-center py-2 bg-white text-xs font-semibold text-gray-500">Sat</div>
                `;

                // Add empty cells for days before the first of the month
                for (let i = 0; i < firstDayOfMonth; i++) {
                    calendarGrid.innerHTML += `<div class="h-28 bg-gray-50 p-1"></div>`;
                }

                // Add day cells
                for (let day = 1; day <= daysInMonth; day++) {
                    const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                    const dayCell = document.createElement('div');
                    dayCell.className = 'h-28 bg-white p-1 calendar-day cursor-pointer overflow-y-auto';
                    dayCell.dataset.date = dateStr;
                    dayCell.innerHTML = `<span class="text-sm">${day}</span>`;

                    // Add events for this day
                    const dayEvents = events.filter(e => e.date === dateStr);
                    dayEvents.forEach(event => {
                        const eventEl = document.createElement('div');
                        eventEl.className = 'calendar-event text-xs p-1 mt-1 bg-blue-500 text-white rounded cursor-pointer truncate';
                        eventEl.textContent = event.title;
                        eventEl.dataset.eventId = event.id;
                        eventEl.addEventListener('click', (e) => {
                            e.stopPropagation(); // Prevent day click from firing
                            openEditModal(event.id);
                        });
                        dayCell.appendChild(eventEl);
                    });
                    
                    dayCell.addEventListener('click', () => {
                        openAddModal(dateStr);
                    });

                    calendarGrid.appendChild(dayCell);
                }
            }
            
            // Navigation listeners
            prevMonthBtn.addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar();
            });
            nextMonthBtn.addEventListener('click', () => {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar();
            });
            todayBtn.addEventListener('click', () => {
                currentDate = new Date();
                renderCalendar();
            });


            // Modal Handling
            const allCloseButtons = document.querySelectorAll('.modal-close-btn');
            allCloseButtons.forEach(btn => btn.addEventListener('click', () => {
                editEventModal.classList.add('hidden');
                addEventModal.classList.add('hidden');
            }));

            // Edit Modal
            const editEventTitleInput = document.getElementById('editEventTitleInput');
            const editEventIdInput = document.getElementById('editEventId');
            const saveEventBtn = document.getElementById('saveEventBtn');
            const deleteEventBtn = document.getElementById('deleteEventBtn');

            function openEditModal(eventId) {
                const event = events.find(e => e.id === eventId);
                if (event) {
                    editEventTitleInput.value = event.title;
                    editEventIdInput.value = event.id;
                    editEventModal.classList.remove('hidden');
                }
            }

            saveEventBtn.addEventListener('click', () => {
                const eventId = parseInt(editEventIdInput.value);
                const eventIndex = events.findIndex(e => e.id === eventId);
                if (eventIndex > -1 && editEventTitleInput.value.trim() !== '') {
                    events[eventIndex].title = editEventTitleInput.value.trim();
                    editEventModal.classList.add('hidden');
                    renderCalendar();
                }
            });
            
            deleteEventBtn.addEventListener('click', () => {
                const eventId = parseInt(editEventIdInput.value);
                events = events.filter(e => e.id !== eventId);
                editEventModal.classList.add('hidden');
                renderCalendar();
            });
            
            // Add Modal
            const addEventTitleInput = document.getElementById('addEventTitleInput');
            const addEventDateInput = document.getElementById('addEventDateInput');
            const addEventBtn = document.getElementById('addEventBtn');
            const addNewEventBtn = document.getElementById('addNewEventBtn');
            const createNewEventBtn = document.getElementById('createNewEventBtn');
            
            function openAddModal(date = null) {
                addEventTitleInput.value = '';
                addEventDateInput.value = date || '';
                addEventModal.classList.remove('hidden');
            }

            addNewEventBtn.addEventListener('click', () => openAddModal());
            createNewEventBtn.addEventListener('click', () => openAddModal());

            addEventBtn.addEventListener('click', () => {
                const title = addEventTitleInput.value.trim();
                const date = addEventDateInput.value;
                if(title && date) {
                    const newEvent = {
                        id: Date.now(), // simple unique id
                        title: title,
                        date: date
                    };
                    events.push(newEvent);
                    addEventModal.classList.add('hidden');
                    renderCalendar();
                }
            });

            // Initial render
            renderCalendar();

            // Chart.js Implementations (remain unchanged)
            const appointmentCtx = document.getElementById('appointmentChart').getContext('2d');
            new Chart(appointmentCtx, {
                type: 'bar',
                data: {
                    labels: ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                    datasets: [{
                        label: 'Net Profit',
                        data: [12, 19, 10, 15, 12, 13, 18, 14, 19],
                        backgroundColor: '#3b82f6', borderRadius: 6, barPercentage: 0.5,
                    }, {
                        label: 'Revenue',
                        data: [18, 22, 15, 19, 18, 17, 24, 20, 25],
                        backgroundColor: '#60a5fa', borderRadius: 6, barPercentage: 0.5,
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { position: 'top', align: 'end', labels: { usePointStyle: true, boxWidth: 8 }}}, scales: { y: { beginAtZero: true, grid: { drawBorder: false }}, x: { grid: { display: false }}}}
            });
            const treatmentsCtx = document.getElementById('treatmentsChart').getContext('2d');
            new Chart(treatmentsCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Root Canal', 'Wisdom Tooth', 'Bleaching', 'Others'],
                    datasets: [{
                        data: [40, 25, 20, 15],
                        backgroundColor: ['#3b82f6', '#22c55e', '#f59e0b', '#ef4444'],
                        borderColor: '#fff', borderWidth: 4,
                    }]
                },
                options: { responsive: true, maintainAspectRatio: false, cutout: '70%', plugins: { legend: { display: false }, tooltip: { callbacks: { label: (c) => `${c.label}: ${c.parsed}%` }}}}
            });
        });
    </script>
</body>
</html>

